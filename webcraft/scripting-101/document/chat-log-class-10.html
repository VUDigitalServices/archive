<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="p2pu" xml:lang="p2pu">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Scripting 101 | P2PU Archive</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
<link rel="shortcut icon" href="../../../sites/archive.p2pu.org/themes/p2pu10/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/modules/codefilter/codefilter.css@I.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/files/ctools/css/132cbcbd66da15052e9a590dbb4eca76.css@I.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/modules/popup/popup.css@I.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/modules/popup/styles/Soft&#32;grey&#32;frame/popup-style.css@I.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/files/css/css_53b6992323d5f617d777bef7b197cc5a.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/files/css/css_23213a44f12b0d9125523bb3c342e2a6.css" />
<script type="text/javascript" src="../../../sites/archive.p2pu.org/files/js/js_f9571e8f689e0561a88ad14078625551.js"></script>
<script type="text/javascript" src="../../../sites/archive.p2pu.org/modules/popup/popup.js@1383063269"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "chartbeat": { "uid": 10678, "domain": "p2pu.org" }, "dhtmlMenu": { "slide": "slide", "doubleclick": "doubleclick", "siblings": 0, "relativity": 0, "children": 0, "clone": 0 }, "extlink": { "extTarget": 0, "extClass": "ext", "extSubdomains": 1, "extExclude": "", "extInclude": "", "extAlert": 0, "extAlertText": "This link will take you to an external web site. We are not responsible for their content.", "mailtoClass": "mailto" }, "popup": { "hoverLinger": "250" }, "views": { "ajax_path": [ "/webcraft/views/ajax", "/webcraft/views/ajax" ], "ajaxViews": [ { "view_name": "panel_comments", "view_display_id": "default", "view_args": "node/5686/document/10791", "view_path": "node/5686/document/10791", "view_base_path": null, "view_dom_id": 1, "pager_element": 0 }, { "view_name": "course_documents_arg", "view_display_id": "block_2", "view_args": "5686", "view_path": "node/5686/document/10791", "view_base_path": null, "view_dom_id": 2, "pager_element": 0 } ] }, "og": { "group_context": { "nid": "5686", "title": "Scripting 101", "type": "course" } } });
//--><!]]>
</script>
</head>

<body class="not-front not-logged-in page-node no-sidebars p2pu-context-course-section-webcraft og-context og-context-5686  ">

  <div id="page">
     <!--style = "display:none;"-->
      <div id="top-notification" class="p2pu-notification">
        <p>This is the P2PU Archive. If you want the current site, go to <a href="http://www.p2pu.org" rel="nofollow">www.p2pu.org!</a></p>
      </div>     
      <div id="page-header" class="float-container">

        <div id="logo"><a title="webcraft Home" href="../../../webcraft.1.html"><img alt="P2PU Home" src="../../../sites/archive.p2pu.org/themes/p2pu10/images/logos/logo-section-webcraft.png"></a></div>
        <div id="slogan"></div>
        <div id="region-header"></div>

              </div><!-- /page-header -->

      <div id="navigation">
        <div class="primary">  <div id="block-menu-menu-webcraft" class="block block-menu">
<!-- wrappers -->


  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="../../../index.html" title="P2PU home page" id="dhtml_menu-17129"><span>P2PU Home</span></a></li>
<li class="leaf last dhtml-menu "><a href="../../course/list.html" title="Webcraft course listing." id="dhtml_menu-17128"><span>Courses</span></a></li>
</ul></div>
  
<!-- /wrappers -->
</div></div>        <form action="chat-log-class-10.html"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-0a35cdcf872bd27ca82332121d342baa" value="form-0a35cdcf872bd27ca82332121d342baa"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      </div><!-- /Navigation -->

      <div id="page-sub-header"></div>

      <div id="page-body" class="float-container page-body-top">
        <div id="page-sub-body">
  
          <div id="content-column">
            <div class="inner">
                            
              <h1 class="title">Scripting 101</h1>                                                        <div class="tabs float-container"><ul class="tabs primary">
<li ><a href="../../scripting-101.html"><span>Course Home</span></a></li>
<li class="active" ><a href="../../node/5686/document.html"><span>Course Material</span></a></li>
<li ><a href="../../node/5686/forums.html"><span>Forums</span></a></li>
</ul>
</div>                            <div class="panel-flexible panels-flexible-17 clear-block" >
<div class="panel-flexible-inside panels-flexible-17-inside">
<div class="panels-flexible-region panels-flexible-region-17-left panels-flexible-region-first">
  <div class="inside panels-flexible-region-inside panels-flexible-region-17-left-inside panels-flexible-region-inside-first">
<div class="panel-pane pane-views pane-course-documents-arg grey-panel" >
  <div class="pane-inner">
      
          <h2 class="pane-title">Course Material</h2>
      
      
    <div class="pane-content">
      <div class="view view-course-documents-arg view-id-course_documents_arg view-display-id-block_2 view-dom-id-2">
    
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <span class="views-field-title">
                <span class="field-content"><a href="../../document/syllabus-scripting-101.html">Syllabus for Scripting 101</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-14.html">Chat log Class 14</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-3 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="class-log-class-13.html">Class log Class 13</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-4 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="class-log-class-12.html">Class log Class 12</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-5 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-11.html">Chat log Class 11</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-6 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-10.html">Chat log Class 10</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-7 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-9.html">Chat log Class 9</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-8 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-8.html">Chat log Class 8</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-9 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-7.html">Chat log Class 7</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-10 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-6.html">Chat log Class 6</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-11 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-5.html">Chat log Class 5</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-12 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-4.html">Chat log Class 4</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-13 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-3.html">Chat log Class 3</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-14 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-2.html">Chat log Class 2</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-15 views-row-odd views-row-last">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-log-class-1.html">Chat log Class 1</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
      </ul>
</div>    </div>
  
  
  
  
  
  
</div>     </div>
  
      
      </div>  
</div>
  </div>
</div>
<div class="panels-flexible-region panels-flexible-region-17-center panels-flexible-region-last ">
  <div class="inside panels-flexible-region-inside panels-flexible-region-17-center-inside panels-flexible-region-inside-last">
<div class="panel-pane pane-node" >
  <div class="pane-inner">
      
          <h2 class="pane-title">Chat log Class 10</h2>
      
      
    <div class="pane-content">
      <div id="node-10791" class="node node-document clear-block">

  <h2 class="title"><a href="chat-log-class-10.html" title=""></a></h2>

  <div class="meta">
    <div class="picture">
  <a href="../../../users/hemanth.html" title="View user profile."><img src="../../../sites/archive.p2pu.org/files/imagecache/user_default_image/pictures/picture-723.jpg" alt="hemanth hm&#039;s picture" title="View user profile."  class="imagecache imagecache-user_default_image" width="30" height="30" /></a></div>
    <span class="created-date">Sun, 2010-10-17 18:37</span>
  </div>

  <div class="content">
    <div class="field field-type-text field-field-document-body">
    <div class="field-items">
            <div class="field-item odd">
                    <p>
&lt;hemanth&gt; SourRust, hey :)<br />
&lt;SourRust&gt; hey<br />
&lt;hemanth&gt; Hows it going?<br />
* datruth29 (4575bfc4@gateway/web/freenode/ip.69.117.191.196) has joined #p2pu-webcraft/scripting-101<br />
&lt;datruth29&gt; hey everybody<br />
&lt;hemanth&gt; hey datruth29<br />
&lt;datruth29&gt; did we start yet?<br />
&lt;hemanth&gt; in 2 more mins<br />
&lt;hemanth&gt; just waiting for few mins<br />
* Lakshmi (51628fe1@gateway/web/freenode/ip.81.98.143.225) has joined #p2pu-webcraft/scripting-101<br />
&lt;datruth29&gt; okay<br />
* hemanth has changed the topic to: Traps in BASH<br />
&lt;hemanth&gt; Today also we are doing a specific unit called traps in bash<br />
* SourRust has quit (Ping timeout: 265 seconds)<br />
&lt;hemanth&gt; after this there begins the real fun of functions<br />
&lt;Lakshmi&gt; Ok<br />
&lt;hemanth&gt; i want to take functions in detail from next week, so will do only traps today<br />
&lt;hemanth&gt; # Functions.<br />
&lt;hemanth&gt; # Interactive Scripts.<br />
&lt;hemanth&gt; would be the end of basic scripting<br />
&lt;hemanth&gt; later we can take about OOP<br />
&lt;datruth29&gt; sounds good<br />
&lt;hemanth&gt; OOP =&gt; &quot;A programming technique that enables you to work with self-contained collections of data structures and routines that can interact with other objects.&quot;<br />
&lt;hemanth&gt; In simple lines it would be Object Oriented Programming<br />
&lt;hemanth&gt; So dealing with traps, we need to understand few basic concepts of a process<br />
&lt;hemanth&gt; ps<br />
&lt;hemanth&gt; say ps in your terminals<br />
&lt;hemanth&gt; ps - report a snapshot of the current processes.<br />
&lt;Lakshmi&gt; Yes<br />
&lt;hemanth&gt; ps aux | less<br />
&lt;hemanth&gt; a -&gt; Lift the BSD-style &quot;only yourself&quot; restriction<br />
&lt;datruth29&gt; that displays all processes, correct?<br />
&lt;hemanth&gt; u-&gt;Select by effective user ID (EUID)<br />
&lt;hemanth&gt; datruth29, yes processes of that user<br />
&lt;hemanth&gt; to see it more better<br />
&lt;hemanth&gt; say &#39;pstree&#39;<br />
&lt;hemanth&gt; in your terminals<br />
&lt;hemanth&gt; pstree - display a tree of processes<br />
&lt;hemanth&gt;&nbsp; init-+-getty<br />
&lt;hemanth&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-getty<br />
&lt;hemanth&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-getty<br />
&lt;hemanth&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `-getty<br />
&lt;hemanth&gt; init is the first process that spawns<br />
&lt;datruth29&gt; this is so much easier to read<br />
&lt;hemanth&gt; one can also use top and htop<br />
&lt;hemanth&gt; The&nbsp; top&nbsp; program&nbsp; provides&nbsp; a dynamic real-time view of a running system<br />
&lt;hemanth&gt; To get the pid of the process<br />
&lt;hemanth&gt; on can use pidof &lt;process_name&gt; or pgrep &lt;process_name&gt;<br />
&lt;hemanth&gt; say like pidof firefox or pgrep firefox<br />
&lt;hemanth&gt; So after seeing all these, can anyone define me what a process is?<br />
&lt;datruth29&gt; it&#39;s basically a running program?<br />
&lt;hemanth&gt; yes :)<br />
&lt;hemanth&gt; For the sake of textbook definition &quot;A process is an instance of a computer program that is being executed. It contains the program code and its current activity. Depending on the operating system (OS), a process may be made up of multiple threads of execution that execute instructions concurrently.&quot;<br />
&lt;datruth29&gt; ahhh<br />
&lt;hemanth&gt; :)<br />
&lt;hemanth&gt; So each process can receive signals, based on which they react<br />
&lt;hemanth&gt; We can send these signals to the process<br />
&lt;hemanth&gt; So we have set of utilities like kill,pkill,killall<br />
&lt;hemanth&gt; to send signals to these process<br />
&lt;hemanth&gt; there are about 68 signals<br />
&lt;hemanth&gt; but not all code can recognize all signals<br />
&lt;hemanth&gt; the most useful signals are<br />
* vibha5bhat (75c0c0f4@gateway/web/freenode/ip.117.192.192.244) has joined #p2pu-webcraft/scripting-101<br />
&lt;hemanth&gt; SIGHUP (1) - Hangup detected on controlling terminal or death of controlling process.<br />
&lt;hemanth&gt; SIGINT (2) - Interrupt from keyboard.<br />
&lt;hemanth&gt; SIGKILL (9) - Kill signal i.e. kill running process.<br />
&lt;hemanth&gt; SIGSTOP (19) - Stop process.<br />
&lt;hemanth&gt; SIGCONT (18) - Continue process if stopped.<br />
&lt;hemanth&gt; Example: kill -SIGKILL pidof firefox<br />
* hemanth sends logs so for to vibha5bhat<br />
* mvoltz (601a1a4f@gateway/web/freenode/ip.96.26.26.79) has joined #p2pu-webcraft/scripting-101<br />
&lt;hemanth&gt; We can also do kill -l &lt;signal_number&gt;<br />
&lt;hemanth&gt;&nbsp; 1) SIGHUP&nbsp; 2) SIGINT&nbsp; 3) SIGQUIT&nbsp; 4) SIGILL<br />
&lt;hemanth&gt;&nbsp; 5) SIGTRAP&nbsp; 6) SIGABRT&nbsp; 7) SIGBUS&nbsp; 8) SIGFPE<br />
&lt;hemanth&gt;&nbsp; 9) SIGKILL 10) SIGUSR1 11) SIGSEGV 12) SIGUSR2<br />
&lt;hemanth&gt; 13) SIGPIPE 14) SIGALRM 15) SIGTERM 16) SIGSTKFLT<br />
&lt;hemanth&gt; 17) SIGCHLD 18) SIGCONT 19) SIGSTOP 20) SIGTSTP<br />
&lt;hemanth&gt; 21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU<br />
&lt;hemanth&gt; 25) SIGXFSZ 26) SIGVTALRM 27) SIGPROF 28) SIGWINCH<br />
&lt;hemanth&gt; 29) SIGIO 30) SIGPWR 31) SIGSYS 34) SIGRTMIN<br />
&lt;hemanth&gt; 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3 38) SIGRTMIN+4<br />
&lt;hemanth&gt; 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8<br />
&lt;hemanth&gt; 43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12<br />
&lt;hemanth&gt; 47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14<br />
&lt;hemanth&gt; 51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10<br />
&lt;hemanth&gt; 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7 58) SIGRTMAX-6<br />
&lt;hemanth&gt; 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2<br />
&lt;hemanth&gt; 63) SIGRTMAX-1 64) SIGRTMAX<br />
&lt;hemanth&gt; are the list of signals<br />
* hemanth sends logs to mvoltz<br />
&lt;hemanth&gt; killall firefox-bin<br />
* SourRust (473b12d5@gateway/web/freenode/ip.71.59.18.213) has joined #p2pu-webcraft/scripting-101<br />
&lt;hemanth&gt; would kill all the instances of firefox program<br />
* hemanth sends logs so far to SourRust<br />
&lt;hemanth&gt; pkill command on the other hand is simple<br />
&lt;hemanth&gt; pkill sends SIGTERM to the process<br />
&lt;hemanth&gt; queries ?<br />
* hemanth waits for few many reading the logs :)<br />
&lt;hemanth&gt; Do send me a SIGCONT once done :)<br />
&lt;datruth29&gt; lol<br />
&lt;hemanth&gt; :)<br />
&lt;Lakshmi&gt; :)<br />
&lt;hemanth&gt; The parent process might die and its child will be orphans...so sad..<br />
&lt;hemanth&gt; there are some process which will sleep and wakeup, yes they are daemons<br />
&lt;hemanth&gt; there are even zombies :D<br />
&lt;hemanth&gt; yes its all so much easy and fun<br />
* hemanth still waits for SIGCONT!<br />
&lt;hemanth&gt; will i become a demon ?<br />
&lt;hemanth&gt; Lakshmi, vibha5bhat,mvoltz, SourRust, shall i move on?<br />
&lt;SourRust&gt; yup all caught up<br />
&lt;vibha5bhat&gt; yes<br />
&lt;Lakshmi&gt; Yeah<br />
&lt;hemanth&gt; signal and their values must be know to trap them, some signals can never be caught, the signals SIGKILL (9) and SIGSTOP (19) cannot be caught, blocked, or ignored.<br />
&lt;hemanth&gt; Interrupt from keyboard (Ctrl^C)&nbsp; is&nbsp; SIGINT<br />
&lt;hemanth&gt; SIGSTP&nbsp; Stop typed at tty (CTRL^z)<br />
&lt;hemanth&gt; So, will running a script a user might hit<br />
&lt;hemanth&gt; CTRL^C or ^Z<br />
&lt;hemanth&gt; arithmetic overflows might happen due to bugs in the script<br />
* Lakshmi_ (51628fe1@gateway/web/freenode/ip.81.98.143.225) has joined #p2pu-webcraft/scripting-101<br />
&lt;hemanth&gt; So what can we do to trap such signal?<br />
&lt;hemanth&gt; Simple, we user the trap command<br />
* Lakshmi has quit (Quit: Page closed)<br />
&lt;hemanth&gt; Trap -&gt;Trap signals and other events.<br />
&lt;hemanth&gt; It defines and activates handlers to be run when the shell receives signals<br />
&lt;hemanth&gt;&nbsp;&nbsp;&nbsp;&nbsp; or other conditions.<br />
&lt;hemanth&gt; trap: trap [-lp] [[arg] signal_spec ...]<br />
&lt;hemanth&gt;&nbsp; -l print a list of signal names and their corresponding numbers<br />
&lt;hemanth&gt;&nbsp; -p display the trap commands associated with each SIGNAL_SPEC<br />
&lt;hemanth&gt; Different variants of using trap<br />
&lt;hemanth&gt; trap arg signal<br />
&lt;hemanth&gt; trap cmd signal<br />
&lt;hemanth&gt; trap &#39;action&#39; SIGTERM SIGINT SIGFPE SIGSTP<br />
&lt;hemanth&gt; trap &#39;action&#39; 15 2 8 20<br />
&lt;hemanth&gt; So on...<br />
&lt;hemanth&gt; lets see how to apply them<br />
&lt;hemanth&gt; trap &#39;echo &quot;Exit 0 signal&quot;&#39; 0<br />
&lt;hemanth&gt; that captures an interrupt #0<br />
&lt;hemanth&gt; cat &gt; trap.bash<br />
&lt;hemanth&gt; #!/bin/bash<br />
&lt;hemanth&gt; trap &#39;echo &quot;Exit 0 signal&quot;&#39; 0<br />
&lt;hemanth&gt; echo &quot;Testing trap...&quot;<br />
&lt;hemanth&gt; exit 0<br />
&lt;hemanth&gt; Ctrl^D<br />
&lt;hemanth&gt; chmod a+x trap.bash<br />
&lt;hemanth&gt; ./trap.bash<br />
&lt;hemanth&gt; What do you notice?<br />
&lt;datruth29&gt; exit 0 seems to call the echo statement you placed in the script<br />
&lt;Lakshmi_&gt; yes<br />
&lt;hemanth&gt; yes, first it echos Testing trap...<br />
&lt;hemanth&gt; then when it executes exit 0<br />
&lt;hemanth&gt; that is been trapped, by trap and hence echo&#39;s Exit 0 signal<br />
&lt;hemanth&gt; fine?<br />
&lt;datruth29&gt; yes<br />
&lt;hemanth&gt; we can trap commands like<br />
&lt;hemanth&gt; trap &quot;rm ${file}; exit&quot; 0 1 2 3 15<br />
&lt;hemanth&gt; No such file or directory from rm could be avoided<br />
&lt;hemanth&gt; trap &#39; &#39; 2<br />
&lt;hemanth&gt; can be done to capture ctrl^c<br />
&lt;hemanth&gt; clear?<br />
&lt;hemanth&gt; o/<br />
&lt;hemanth&gt; ?<br />
&lt;SourRust&gt; do traps stop the default action like exit 0 example<br />
&lt;mvoltz&gt; what is a typical action to take once something is successfully trapped?<br />
&lt;hemanth&gt; SourRust, you meant you want to trap 0?<br />
&lt;SourRust&gt; like in the exit 0 example, did it stop the exit 0<br />
&lt;hemanth&gt; yes, it trapped<br />
&lt;SourRust&gt; kk<br />
&lt;hemanth&gt; mvoltz, it depends on what you want to do<br />
&lt;hemanth&gt; something an error is displayed<br />
&lt;hemanth&gt; somethings another function is called<br />
&lt;hemanth&gt; somethings process cleanup is done<br />
&lt;mvoltz&gt; gotcha<br />
&lt;hemanth&gt; SourRust, but the code flow does not continue, its just a trap there<br />
&lt;hemanth&gt; to test, you can say echo &quot;After exit 0&quot;<br />
&lt;hemanth&gt; got it?<br />
&lt;SourRust&gt; ah, ok<br />
&lt;SourRust&gt; yp<br />
&lt;SourRust&gt; yup<br />
&lt;hemanth&gt; So, now one must get the doubt, once i have set the trap, how do i clear them<br />
&lt;hemanth&gt; to clear them we use trap - signal<br />
&lt;hemanth&gt; trap - 1 2 3 15<br />
&lt;hemanth&gt; would clear 1,12,3 and 15<br />
&lt;hemanth&gt; that was set b4<br />
&lt;hemanth&gt;&nbsp; /was/were<br />
&lt;hemanth&gt; trap &#39;echo &quot; disabled&quot;&#39; SIGINT SIGQUIT SIGTSTP<br />
&lt;hemanth&gt; would trap&nbsp; capture CTRL+C, CTRL+Z and quit<br />
&lt;hemanth&gt; So in the flow if the user hits CTRL+C it says &#39;disabled&#39;<br />
&lt;hemanth&gt; So to exit such a code<br />
&lt;hemanth&gt; one must trap - SIGINT SIGQUIT SIGTSTP (clear all)<br />
&lt;hemanth&gt; and then say exit 0<br />
&lt;hemanth&gt; so those traps work for that script<br />
&lt;hemanth&gt; and wont affect the shell<br />
&lt;hemanth&gt; or can use a () subshell<br />
&lt;hemanth&gt; clear?<br />
&lt;Lakshmi_&gt; yes<br />
&lt;mvoltz&gt; yes<br />
&lt;SourRust&gt; yup<br />
&lt;hemanth&gt; nice, with that trapping signals comes to and end, you guys try making a switch case to catch them by name/number and push them to the repo :)<br />
&lt;hemanth&gt; next class, is all fun with functions :)<br />
&lt;hemanth&gt; till then happy hacking :)<br />
&lt;SourRust&gt; cya<br />
&lt;Lakshmi_&gt; ok<br />
&lt;datruth29&gt; later!<br />
* datruth29 has quit (Quit: Page closed)<br />
&lt;hemanth&gt; byee</p>
        </div>
        </div>
</div>
  </div>
  


</div>
    </div>
  
      
      </div>  
</div>
  </div>
</div>
</div>
</div>
                                        </div>
          </div><!-- /content-column -->
  
                  </div>
        
                  
      </div><!-- /page-body -->
  
              <div id="page-footer">
          <div class="inner">
            <div class="message">
                            <div id='creative-commons'>
                <div class='p2pu-cc-text'>
                  <a href="../../../license.html">License Information</a> - <a href="../../../privacy.html">Privacy Guidelines</a> - <a href="../../../terms-of-use.html">Terms of Use</a>
                </div><br>
<div id='cc-logo'>

<a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" target="_blank"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
               <div class="p2pu-cc-text">Except where otherwise noted, all content on <span dct="http://purl.org/dc/terms/" property="title">p2pu.org</span> is
licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" target="_blank">Creative Commons Attribution-ShareAlike 3.0 Unported
License</a>.</div>

                </div>
              </div>             </div>
              <div id="block-user_voice-0" class="block block-user_voice">
<!-- wrappers -->

  <h2 class="title"><none></h2>
  <div class="content"><script type="text/javascript">
var uservoiceJsHost = ("https:" == document.location.protocol) ? "https://uservoice.com" : "http://cdn.uservoice.com";
document.write(unescape("%3Cscript src='" + uservoiceJsHost + "/javascripts/widgets/tab.js' type='text/javascript'%3E%3C/script%3E"))
</script>
<script type="text/javascript">
UserVoice.Tab.show({ 
  key: 'p2pu',
  host: 'p2pu.uservoice.com', 
  forum: '47491', 
  alignment: 'left',
  background_color:'#F00', 
  text_color: 'white',
  hover_color: '#06C',
  lang: 'en'
})
</script></div>
  
<!-- /wrappers -->
</div>          </div>
        </div>
      
  </div><!-- /page -->
  
  <script type="text/javascript">
  var _sf_async_config=Drupal.settings.chartbeat;
  (function(){
    function loadChartbeat() {
      window._sf_endpt=(new Date()).getTime();
      var e = document.createElement('script');
      e.setAttribute('language', 'javascript');
      e.setAttribute('type', 'text/javascript');
      e.setAttribute('src',
         (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") +
         "static.chartbeat.com/js/chartbeat.js");
      document.body.appendChild(e);
    }
    var oldonload = window.onload;
    window.onload = (typeof window.onload != 'function') ?
       loadChartbeat : function() { oldonload(); loadChartbeat(); };
  })();
</script>
<!--[if lt IE 8]><style type="text/css">div.popup-element{ display: inline;}</style><![endif]-->
</body>
</html>

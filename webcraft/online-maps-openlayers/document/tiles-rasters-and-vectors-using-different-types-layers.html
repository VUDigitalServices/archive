<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="p2pu" xml:lang="p2pu">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Online Maps with OpenLayers | P2PU Archive</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
<link rel="shortcut icon" href="../../../sites/archive.p2pu.org/themes/p2pu10/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/modules/codefilter/codefilter.css@I.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/files/ctools/css/132cbcbd66da15052e9a590dbb4eca76.css@I.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/modules/popup/popup.css@I.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/modules/popup/styles/Soft&#32;grey&#32;frame/popup-style.css@I.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/archive.p2pu.org/files/css/css_53b6992323d5f617d777bef7b197cc5a.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../sites/archive.p2pu.org/files/css/css_23213a44f12b0d9125523bb3c342e2a6.css" />
<script type="text/javascript" src="../../../sites/archive.p2pu.org/files/js/js_f9571e8f689e0561a88ad14078625551.js"></script>
<script type="text/javascript" src="../../../sites/archive.p2pu.org/modules/popup/popup.js@1381271841"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "chartbeat": { "uid": 10678, "domain": "p2pu.org" }, "dhtmlMenu": { "slide": "slide", "doubleclick": "doubleclick", "siblings": 0, "relativity": 0, "children": 0, "clone": 0 }, "extlink": { "extTarget": 0, "extClass": "ext", "extSubdomains": 1, "extExclude": "", "extInclude": "", "extAlert": 0, "extAlertText": "This link will take you to an external web site. We are not responsible for their content.", "mailtoClass": "mailto" }, "popup": { "hoverLinger": "250" }, "views": { "ajax_path": [ "/webcraft/views/ajax", "/webcraft/views/ajax" ], "ajaxViews": [ { "view_name": "panel_comments", "view_display_id": "default", "view_args": "node/12927/document/27678", "view_path": "node/12927/document/27678", "view_base_path": null, "view_dom_id": 1, "pager_element": 0 }, { "view_name": "course_documents_arg", "view_display_id": "block_2", "view_args": "12927", "view_path": "node/12927/document/27678", "view_base_path": null, "view_dom_id": 2, "pager_element": 0 } ] }, "og": { "group_context": { "nid": "12927", "title": "Online Maps with OpenLayers", "type": "course" } } });
//--><!]]>
</script>
</head>

<body class="not-front not-logged-in page-node no-sidebars p2pu-context-course-section-webcraft og-context og-context-12927  ">

  <div id="page">
     <!--style = "display:none;"-->
      <div id="top-notification" class="p2pu-notification">
        <p>This is the P2PU Archive. If you want the current site, go to <a href="http://www.p2pu.org" rel="nofollow">www.p2pu.org!</a></p>
      </div>     
      <div id="page-header" class="float-container">

        <div id="logo"><a title="webcraft Home" href="../../../webcraft.1.html"><img alt="P2PU Home" src="../../../sites/archive.p2pu.org/themes/p2pu10/images/logos/logo-section-webcraft.png"></a></div>
        <div id="slogan"></div>
        <div id="region-header"></div>

              </div><!-- /page-header -->

      <div id="navigation">
        <div class="primary">  <div id="block-menu-menu-webcraft" class="block block-menu">
<!-- wrappers -->


  <div class="content"><ul class="menu"><li class="leaf first dhtml-menu "><a href="../../../index.html" title="P2PU home page" id="dhtml_menu-17129"><span>P2PU Home</span></a></li>
<li class="leaf last dhtml-menu "><a href="../../course/list.html" title="Webcraft course listing." id="dhtml_menu-17128"><span>Courses</span></a></li>
</ul></div>
  
<!-- /wrappers -->
</div></div>        <form action="tiles-rasters-and-vectors-using-different-types-layers.html"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-0eb869f8cac6fbb34bcc0a1b89a2548a" value="form-0eb869f8cac6fbb34bcc0a1b89a2548a"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
      </div><!-- /Navigation -->

      <div id="page-sub-header"></div>

      <div id="page-body" class="float-container page-body-top">
        <div id="page-sub-body">
  
          <div id="content-column">
            <div class="inner">
                            
              <h1 class="title">Online Maps with OpenLayers</h1>                                                        <div class="tabs float-container"><ul class="tabs primary">
<li ><a href="../../online-maps-openlayers.html"><span>Course Home</span></a></li>
<li class="active" ><a href="../../node/12927/document.html"><span>Course Material</span></a></li>
<li ><a href="../../node/12927/forums.html"><span>Forums</span></a></li>
</ul>
</div>                            <div class="panel-flexible panels-flexible-17 clear-block" >
<div class="panel-flexible-inside panels-flexible-17-inside">
<div class="panels-flexible-region panels-flexible-region-17-left panels-flexible-region-first">
  <div class="inside panels-flexible-region-inside panels-flexible-region-17-left-inside panels-flexible-region-inside-first">
<div class="panel-pane pane-views pane-course-documents-arg grey-panel" >
  <div class="pane-inner">
      
          <h2 class="pane-title">Course Material</h2>
      
      
    <div class="pane-content">
      <div class="view view-course-documents-arg view-id-course_documents_arg view-display-id-block_2 view-dom-id-2">
    
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <span class="views-field-title">
                <span class="field-content"><a href="../../document/syllabus-online-maps-openlayers.html">Syllabus for Online Maps with OpenLayers</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="openstreetmap-how.html">An OpenStreetMap How-To</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-3 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="openlayers-topics.html">OpenLayers Topics</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-4 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="openlayers-walkthrough.html">OpenLayers Walkthrough</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-5 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="clickable-icons-openlayers.html">Clickable Icons in OpenLayers</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-6 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="chat-17-feb-2011-squashing-javascript-bugs-grassroots-mapping-loading-maps-through-json-or-kml.html">Chat 17 Feb 2011: Squashing JavaScript Bugs, Grassroots Mapping, Loading maps through JSON or KML</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-7 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="adding-dimension-lines-shapes-video-and-drawing.html">Adding Dimension: Lines, Shapes, Video, and Drawing</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-8 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="maps-coloring-and-highlighting-countries-chat-24-feb.html">Maps for Coloring and Highlighting Countries - Chat 24 Feb</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-9 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="just-time-openlayers-mobile-phone-features.html">Just in time: OpenLayers Mobile Phone Features</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-10 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="tiles-rasters-and-vectors-using-different-types-layers.html">Tiles, rasters, and vectors: Using different types of layers</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-11 views-row-odd">  
  <span class="views-field-title">
                <span class="field-content"><a href="creating-your-own-tile-and-vector-layers.html">Creating your own tile and vector layers</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-12 views-row-even">  
  <span class="views-field-title">
                <span class="field-content"><a href="events-changing-your-map-and-listening-your-users.html">Events: changing your map and listening to your users</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
          <li class="views-row views-row-13 views-row-odd views-row-last">  
  <span class="views-field-title">
                <span class="field-content"><a href="making-maps-google-docs-and-fusion-tables.html">Making maps with Google Docs and Fusion Tables</a></span>
  </span>
  
  <span class="views-field-edit-node">
                <span class="field-content"></span>
  </span>
</li>
      </ul>
</div>    </div>
  
  
  
  
  
  
</div>     </div>
  
      
      </div>  
</div>
  </div>
</div>
<div class="panels-flexible-region panels-flexible-region-17-center panels-flexible-region-last ">
  <div class="inside panels-flexible-region-inside panels-flexible-region-17-center-inside panels-flexible-region-inside-last">
<div class="panel-pane pane-node" >
  <div class="pane-inner">
      
          <h2 class="pane-title">Tiles, rasters, and vectors: Using different types of layers</h2>
      
      
    <div class="pane-content">
      <div id="node-27678" class="node node-document clear-block">

  <h2 class="title"><a href="tiles-rasters-and-vectors-using-different-types-layers.html" title=""></a></h2>

  <div class="meta">
    <div class="picture">
  <a href="../../../users/ndoiron.html" title="View user profile."><img src="../../../sites/archive.p2pu.org/files/imagecache/user_default_image/pictures/picture-7309.jpg" alt="Nick Doiron&#039;s picture" title="View user profile."  class="imagecache imagecache-user_default_image" width="30" height="30" /></a></div>
    <span class="created-date">Wed, 2011-03-16 18:20</span>
  </div>

  <div class="content">
    <div class="field field-type-text field-field-document-body">
    <div class="field-items">
            <div class="field-item odd">
                    <p>
When you first get started with a mapping program called OpenLayers, you must wonder, what&#39;s so important about layers? &nbsp;How do you work with them?</p>
<p><strong>Tile versus Vector</strong></p>
<p>We&#39;re using two types of layers already:</p>
<ul>
<li>
		The OpenStreetMap layer is made of smaller images called tiles ( think of floor tiles ). &nbsp; As you move the map to one side or another, the page loads more tiles to cover new areas. &nbsp;When you zoom in, the map loads new tiles to show more detail. &nbsp;Here&#39;s a sample OpenStreetMap tile and its URL:&nbsp;<a href="http://tile.openstreetmap.org/9/141/193.png" rel="nofollow">http://tile.openstreetmap.org/9/141/193.png</a></li>
<li>
		We use a vector layer ( called myPointLayer in examples ) to show points and markers. &nbsp;Points, lines, and shapes in a vector layer are represented by coordinates, so they are loaded once, then are moved along with your map.</li>
</ul>
<p>If it&#39;s only one download, why doesn&#39;t the OpenStreetMap layer use vectors, too? &nbsp;A single highway could be hundreds or thousands of points, but when you&#39;re zoomed out or seeing only part of the highway, most of that detail would be meaningless. &nbsp;Tiles show you the end product, with a much smaller download. &nbsp;When you use the OpenStreetMap editors you are accessing the vector data directly, so you need to zoom in on small parts of the map and wait for streets to load.</p>
<p><strong>Rasters</strong></p>
<p>Tiles and other non-vector layers are considered to be rasters. &nbsp;An example of a raster layer that is not a tile layer would be a single satellite photo, or a large heatmap image which was not broken into separate tiles. &nbsp;These images would be very complex to represent as point-by-point data, so instead it is sent as an image.</p>
<p><strong>Different layers on a map</strong></p>
<p>OpenLayers comes with a simple control to switch layers, and to turn layers on and off. &nbsp;The best-known example is on <a href="http://openstreetmap.org" rel="nofollow">OpenStreetMap.org</a> &nbsp;Click the (+) button in the upper-right of the map to switch between different tile designs.</p>
<p>You can use this on your own maps to switch between OpenStreetMap and maps from many other sources and formats. &nbsp;Bing and Google have Terms of Service which limit use, but USUALLY if people can view your map online-only, without signing in, paying, copying data, or doing illegal things, it&#39;s useable.</p>
<p><strong>Add the Layer Switcher</strong></p>
<p>I start with one of my older jsFiddle maps with some points on it&nbsp;and add these two lines:</p>
<p><span class="js-variable">layerControl &nbsp;</span><span class="js-operator">=&nbsp;</span><span class="js-keyword">new&nbsp;</span><span class="js-variable">OpenLayers</span><span class="js-punctuation">.</span><span class="js-property">Control</span><span class="js-punctuation">.</span><span class="js-property">LayerSwitcher</span><span class="js-punctuation">(</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />
<span class="js-variable">map</span><span class="js-punctuation">.</span><span class="js-property">addControl</span><span class="js-punctuation">(</span><span class="js-variable">layerControl</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span></p>
<p><a href="http://jsfiddle.net/UAxun/104/" rel="nofollow">http://jsfiddle.net/UAxun/104/</a></p>
<p>Right away you&#39;ll notice that my stars are called &quot;Layer Name&quot; from when I created pointLayer. &nbsp;If you did the same thing, now would be a good time to change the name.</p>
<p><strong>Switch between OpenStreetMap and Google Maps</strong></p>
<p>Add the script&nbsp;<a href="http://maps.google.com/maps/api/js?sensor=false&amp;v=3.2&amp;.js" rel="nofollow">http://maps.google.com/maps/api/js?sensor=false&amp;v=3.2&amp;.js</a>&nbsp;-- In jsFiddle use Manage Resources to add it to your page. &nbsp;If you&#39;re using GPS for the user&#39;s location, change sensor=false in that URL to sensor=true</p>
<p>Add these lines, and you have Google&#39;s roadmap:</p>
<p><span class="js-variable">gmap&nbsp;</span><span class="js-operator">=&nbsp;</span><span class="js-keyword">new&nbsp;</span><span class="js-variable">OpenLayers</span><span class="js-punctuation">.</span><span class="js-property">Layer</span><span class="js-punctuation">.</span><span class="js-property">Google</span><span class="js-punctuation">(</span><span class="js-string">&quot;Google Streets&quot;</span><span class="js-punctuation">,&nbsp;</span><span class="js-punctuation">{&nbsp;</span><span class="js-property">visibility</span><span class="js-punctuation">:</span><span class="js-atom">false</span><span class="js-punctuation">,&nbsp;</span><span class="js-property">type</span><span class="js-punctuation">:&nbsp;</span><span class="js-variable">google</span><span class="js-punctuation">.</span><span class="js-property">maps</span><span class="js-punctuation">.</span><span class="js-property">MapTypeId</span><span class="js-punctuation">.</span><span class="js-property">ROADMAP&nbsp;</span><span class="js-punctuation">}&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />
<span class="js-variable">map</span><span class="js-punctuation">.</span><span class="js-property">addLayer</span><span class="js-punctuation">(</span><span class="js-variable">gmap</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span></p>
<p>You can add several Google layers by changing the type to google.maps.MapTypeId.TERRAIN , google.maps.MapTypeId.SATELLITE, and google.maps.MapTypeId.HYBRID. &nbsp;Change the name in quotes, too, so your users know which is which.</p>
<p><strong>Switch between OpenStreetMap and Bing Maps</strong></p>
<p>I can&#39;t get this working in jsFiddle yet, but here are good examples of Bing Maps and OpenLayers:</p>
<p>Without API key:&nbsp;<a href="http://openlayers.org/dev/examples/ve-novibrate.html" rel="nofollow">http://openlayers.org/dev/examples/ve-novibrate.html</a><br />
Newer style, requires API key:&nbsp;<a href="http://openlayers.org/blog/2010/12/18/bing-tiles-for-openlayers/" rel="nofollow">http://openlayers.org/blog/2010/12/18/bing-tiles-for-openlayers/</a></p>
<p>
<strong>Clickable Layers</strong></p>
<p>Let&#39;s suppose I want a map of Taxis and Buses. &nbsp;The viewer can hide Taxis if they want to see only Buses, and vice versa. &nbsp;My first thought is to organize it like this:</p>
<p>taxis = [ .... ]; &nbsp;// list | array of taxis<br />
buses = [ ... ]; // list | array of buses</p>
<p>taxiLayer = new OpenLayers.Layer.Vector &nbsp;....<br />
for( t = 0; t &lt; taxis.length; t = t + 1){<br />
&nbsp;&nbsp; &nbsp;// adds each taxi from the list into taxiLayer<br />
&nbsp;&nbsp; &nbsp;thisTaxi = new OpenLayers.Feature.Vector ....<br />
&nbsp;&nbsp; &nbsp;taxiLayer.addFeature ( thisTaxi )<br />
}<br />
busLayer = new OpenLayers.Layer.Vector &nbsp;...<br />
for( b = 0; b &lt; buses.length; b = b + 1){<br />
&nbsp;&nbsp; // adds each bus from the list into busLayer<br />
&nbsp;&nbsp; &nbsp;thisBus = new OpenLayers.Feature.Vector ....<br />
&nbsp;&nbsp; &nbsp;busLayer.addFeature ( thisBus )<br />
}<br />
map.addLayers( [ taxiLayer, busLayer ] );</p>
<div class="ace-line" id="magicdomid10882">
	<span class="author-g-s497ttmcyqbua6tq">selectControl = new OpenLayers.Control.SelectFeature( taxiLayer );</span></div>
<div class="ace-line" id="magicdomid10882">
	<span class="author-g-s497ttmcyqbua6tq">selectControl2 = new OpenLayers.Control.SelectFeature( busLayer );</span></div>
<div>
	&nbsp;</div>
<p>Unfortunately, a map can only have one active SelectControl at a time, and a SelectControl only watches one layer. &nbsp;This means all of the clickable icons must be in one layer. &nbsp;So how can you show and hide the taxis and buses separately?</p>
<p>Instead, put both in one layer, but use arrays (lists) to keep track of which are taxis and which are buses, like this.</p>
<p>taxis = [ .... ]; &nbsp;// list | array of taxis<br />
var taxiMarkers = [ ]; // empty array of taxi PointFeatures --- use &quot;var&quot; so it can be accessed by the page later<br />
buses = [ ... ]; // list | array of buses<br />
var busMarkers = [ ]; // empty array of bus PointFeatures --- using &quot;var&quot;</p>
<p>var drivingLayer = new OpenLayers.Layer.Vector ... &nbsp; // again, use var so it can be accessed by the page later</p>
<p>for( t = 0; t &lt; taxis.length; t = t + 1 ){<br />
&nbsp;&nbsp; &nbsp;thisTaxi = new OpenLayers.Feature.Vector ....<br />
&nbsp;&nbsp; &nbsp;drivingLayer.addFeature ( thisTaxi );<br />
&nbsp;&nbsp; &nbsp;taxiMarkers.push ( thisTaxi &nbsp;); &nbsp; // adds the feature to the list<br />
}<br />
for( b = 0; b &lt; buses.length; b = b + 1 ){<br />
&nbsp;&nbsp; &nbsp;thisBus = new OpenLayers.Feature.Vector ....<br />
&nbsp;&nbsp; &nbsp;drivingLayer.addFeature ( thisBus );<br />
&nbsp;&nbsp; &nbsp;busMarkers.push ( thisBus ); &nbsp;// adds the feature to the list<br />
}<br />
map.addLayer( drivingLayer );</p>
<p>Get rid of the LayerSwitcher control, because it will only show one layer. &nbsp;You&#39;ll have to create your own in HTML and JavaScript. &nbsp;This is a user-friendly way to create each check box:</p>
<div>
	&lt;label&gt;<br />
	&nbsp;&nbsp; &nbsp;&lt;img width=&quot;20&quot; height=&quot;20&quot; src=&quot;_Taxi_Icon.jpg&quot;/&gt;<br />
	&nbsp;&nbsp; &nbsp;&lt;input id=&quot;MyTaxiLayer&quot; type=&quot;checkbox&quot;/&gt;<br />
	&nbsp;&nbsp; &nbsp;Taxis<br />
	&lt;/label&gt;</div>
<div>
	&lt;hr/&gt;</div>
<p>
A &lt;label&gt; means someone can click any part of this line to change the checkbox.<br />
The second line is an icon to represent your layer. &nbsp;It should match the icon used on the map.<br />
The third line is the checkbox itself, which should have a unique id.<br />
The fourth line is the label the user sees for your checkbox.<br />
The fifth line closes the label.<br />
The sixth line uses &lt;hr/&gt; to draw a black horizontal line below this layer. &nbsp;If you are going horizontally, use a | or other vertical boundary instead.</p>
<p>In JavaScript, set the initial state of your checkboxes to true (checked) or false (unchecked) depending on what layers are visible at the beginning, and tell it to switch layers when clicked</p>
<p>document.getElementById(&nbsp;<span class="js-punctuation">&nbsp;</span><span class="js-string">&quot;MyTaxiLayer&quot;</span>&nbsp;).checked = true;<br />
<span class="js-variable">document</span><span class="js-punctuation">.</span><span class="js-property">getElementById</span><span class="js-punctuation">(&nbsp;</span><span class="js-string">&quot;MyTaxiLayer&quot;&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-property">onclick&nbsp;</span><span class="js-operator">=&nbsp;</span><span class="js-keyword">function</span><span class="js-punctuation">(</span><span class="js-punctuation">)</span><span class="js-punctuation">{<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="js-keyword">if</span><span class="js-punctuation">(&nbsp;</span><span class="js-variable">document</span><span class="js-punctuation">.</span><span class="js-property">getElementById</span><span class="js-punctuation">(&nbsp;</span><span class="js-string">&quot;MyTaxiLayer&quot;&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-property">checked&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="js-comment">// user clicked to turn the box on</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="js-variable">pointLayer</span><span class="js-punctuation">.</span><span class="js-property">addFeatures&nbsp;</span><span class="js-punctuation">(&nbsp;</span><span class="js-variable">taxiMarkers&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span class="js-punctuation">}</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span class="js-keyword">else&nbsp;</span><span class="js-punctuation">{</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="js-comment">// user clicked to turn the box off</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="js-variable">pointLayer</span><span class="js-punctuation">.</span><span class="js-property">removeFeatures&nbsp;</span><span class="js-punctuation">(&nbsp;</span><span class="js-variable">taxiMarkers&nbsp;</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />
<span class="whitespace">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span class="js-punctuation">}</span><br />
<span class="whitespace">&nbsp;&nbsp;</span><span class="js-punctuation">}</span></p>
<p><span class="whitespace">&nbsp;</span><span class="js-comment">// repeat for other layers</span><br />
document.getElementById( &quot;MyBusLayer&quot; ).checked = true;<br />
...</p>
<p>If you&#39;re not familiar with HTML, you can set up two columns for your checkbox and map, using a table.<br />
&lt;table&gt;<br />
&nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Checkboxes in left column --&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;td&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- map-div in right column --&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;/td&gt;<br />
&nbsp;&nbsp; &lt;/tr&gt;<br />
&lt;/table&gt;</p>
<p>I have a working example up at&nbsp;<a href="http://jsfiddle.net/UAxun/105/" rel="nofollow">http://jsfiddle.net/UAxun/105/</a>&nbsp;&nbsp; in case you have trouble with adding the layer controls.</p>
        </div>
        </div>
</div>
  </div>
  

<ul class="links inline"><li class="p2pu_revisions first last"><a href="../../node/27678/revisions@destination=node%252F12927%252Fdocument%252F27678.html">revisions</a></li>
</ul>
</div>
    </div>
  
      
      </div>  
</div>
  </div>
</div>
</div>
</div>
                                        </div>
          </div><!-- /content-column -->
  
                  </div>
        
                  
      </div><!-- /page-body -->
  
              <div id="page-footer">
          <div class="inner">
            <div class="message">
                            <div id='creative-commons'>
                <div class='p2pu-cc-text'>
                  <a href="../../../license.html">License Information</a> - <a href="../../../privacy.html">Privacy Guidelines</a> - <a href="../../../terms-of-use.html">Terms of Use</a>
                </div><br>
<div id='cc-logo'>

<a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" target="_blank"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
               <div class="p2pu-cc-text">Except where otherwise noted, all content on <span dct="http://purl.org/dc/terms/" property="title">p2pu.org</span> is
licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" target="_blank">Creative Commons Attribution-ShareAlike 3.0 Unported
License</a>.</div>

                </div>
              </div>             </div>
              <div id="block-user_voice-0" class="block block-user_voice">
<!-- wrappers -->

  <h2 class="title"><none></h2>
  <div class="content"><script type="text/javascript">
var uservoiceJsHost = ("https:" == document.location.protocol) ? "https://uservoice.com" : "http://cdn.uservoice.com";
document.write(unescape("%3Cscript src='" + uservoiceJsHost + "/javascripts/widgets/tab.js' type='text/javascript'%3E%3C/script%3E"))
</script>
<script type="text/javascript">
UserVoice.Tab.show({ 
  key: 'p2pu',
  host: 'p2pu.uservoice.com', 
  forum: '47491', 
  alignment: 'left',
  background_color:'#F00', 
  text_color: 'white',
  hover_color: '#06C',
  lang: 'en'
})
</script></div>
  
<!-- /wrappers -->
</div>          </div>
        </div>
      
  </div><!-- /page -->
  
  <script type="text/javascript">
  var _sf_async_config=Drupal.settings.chartbeat;
  (function(){
    function loadChartbeat() {
      window._sf_endpt=(new Date()).getTime();
      var e = document.createElement('script');
      e.setAttribute('language', 'javascript');
      e.setAttribute('type', 'text/javascript');
      e.setAttribute('src',
         (("https:" == document.location.protocol) ? "https://s3.amazonaws.com/" : "http://") +
         "static.chartbeat.com/js/chartbeat.js");
      document.body.appendChild(e);
    }
    var oldonload = window.onload;
    window.onload = (typeof window.onload != 'function') ?
       loadChartbeat : function() { oldonload(); loadChartbeat(); };
  })();
</script>
<!--[if lt IE 8]><style type="text/css">div.popup-element{ display: inline;}</style><![endif]-->
</body>
</html>
